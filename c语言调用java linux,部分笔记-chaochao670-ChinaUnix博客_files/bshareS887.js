(function(){var j=window,b=j.bShareUtil,D=j.bShareControl,a=j.bShare,e=a.config,m=a.iL8n,c=e.popHCol,t=e.poptxtc,z=e.popbgc,E=a.whost,u=a.imageBasePath,h=document,n=h.documentElement,o=h.body,p=Math.max,v=0,w=0,A=e.lang=="en",F=function(){var q=h.getElementById("bsPanelHolder");q||(q=b.createElement("div","bsPanelHolder"));var i=q;b.loadStyle("a.bsSiteLink{text-decoration:none;color:"+t+";}a.bsSiteLink:hover{text-decoration:underline;}a.bshareDiv{overflow:hidden;height:16px;line-height:18px;font-size:14px;color:#333;padding-left:0;}a.bshareDiv:hover{text-decoration:none;}div.bsTitle{padding:0 8px;border-bottom:1px solid #e8e8e8;color:"+
t+";background:"+z+";text-align:left;}div.buzzButton{cursor:pointer;}div.bsRlogo,div.bsRlogoSel{width:68px;float:left;margin:0;padding:2px 0;}div.bsRlogo a,div.bsRlogoSel a{float:left;}div.bsLogo,div.bsLogoSel{float:left;width:111px;text-align:left;height:auto;padding:2px 4px;margin:2px 0;white-space:nowrap;overflow:hidden;}div.bsLogoSel,div.bsRlogoSel{border:1px solid #ddd;background:#f1f1f1;}div.bsLogo,div.bsRlogo{border:1px solid #fff;background:#fff;}div.bsLogo a,div.bsLogoSel a{display:block;height:16px;line-height:16px;padding:0 0 0 24px;text-decoration:none;float:left;overflow:hidden;}div.bsLogoSel a,div.bsRlogoSel a{color:#000;border:none;}div.bsLogo a,div.bsRlogo a{color:#666;border:none;}div.bsLogoLink{width:121px;overflow:hidden;background:#FFF;float:left;margin:3px 0;}#bsPanel{position:absolute;z-index:100000000;font-size:12px;width:"+
(111*c+(c-1)*10+26+(b.isIe&&!b.isSt?6:0))+"px;background:url("+a.shost+"/frame/images/background-opaque-dark."+(b.isIe6?"gif":"png")+");padding:6px;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;}div.bsClear{clear:both;height:0;line-height:0;font-size:0;overflow:hidden;}div.bsPopupAwd{background: url("+u+"/bshare_box_sprite2.gif) no-repeat top left;background-position:0 -624px;width:18px;padding-left:3px;text-align:center;float:left;margin-left:2px;height:15px;font-size:12px;color:#fff;overflow:hidden;}div.bsRlogo .bsPopupAwd,div.bsRlogoSel .bsPopupAwd{float:left;margin:5px 0 0 -14px;}");
var k;k='<div class="bsTitle"><a style="float:left;height:20px;line-height:20px;font-weight:bold;" class="bsSiteLink" target="_blank" href="'+E+'/intro">'+m.shareText+'</a><a class="bsSiteLink" style="cursor:pointer;float:right;height:20px;line-height:20px;font-weight:bold;" onclick="document.getElementById(\'bsPanel\').style.display=\'none\';">X</a><div class="bsClear"></div></div><div class="bsClear"></div>';var g="",f,d,x,l=[],s,j,r,n,y,o=0,p;if(c==2){g+='<div style="height:47px;border-bottom:1px #ccc solid;padding:4px 0 4px 16px;margin-right:8px;_padding-left:12px;">';
for(f=0;f<3&&f<e.bps.length;f++)d=e.bps[f],b.isUndefined(a.pnMap[d])||(r=!!a.params.promote&&!A&&b.arrayContains(a.arrayIsAwd,d),g+='<div class="bsRlogo" onmouseover="javascript:this.className=\'bsRlogoSel\'" onmouseout="javascript:this.className=\'bsRlogo\'"><a href="javascript:;" onclick="javascript:bShare.share(event,\''+d+'\');return false;" style="text-decoration:none;line-height:120%;"><div style="cursor:pointer;width:24px;height:24px;margin:0 18px 2px;background:url('+u+"/logos/m2/"+d+'.gif) no-repeat;"></div><div style="cursor:pointer;text-align:center;width:60px;height:16px !important;overflow:hidden;color:inherit;white-space:nowrap;line-height:120% !important">'+
a.pnMap[d][0]+"</div></a>"+(r?'<div class="bsPopupAwd">'+m.promoteShort+"</div>":"")+"</div>");g+="</div>"}for(d=0;d<c;d++)l.push("<div class='bsLogoLink'>");j=c<2&&e.bps.length>6?6:e.bps.length;for(f=0,s=c==2?3:0;s<j;s++)d=e.bps[s],b.isUndefined(a.pnMap[d])||(x=a.pnMap[d][0],y=a.pnMap[d][1]*-18,r=!!a.params.promote&&!A&&b.arrayContains(a.arrayIsAwd,d),n=(b.arrayContains(a.boldPlatforms,d)?"font-weight:bold;":"")+(b.arrayContains(a.redPlatforms,d)?"color:red;":"")+(r?"width:48px;":""),l[f%c]+='<div class="bsLogo" onmouseover="javascript:this.className=\'bsLogoSel\'" onmouseout="javascript:this.className=\'bsLogo\'"><a href="javascript:;" title="'+
x+'" onclick="javascript:bShare.share(event,\''+d+'\');return false;" style="'+n+"background:url("+u+(y?"/slogos_sprite8."+(b.isIe?"gif":"png")+") no-repeat 0 "+y+'px;">':"/logos/s4/"+d+(b.isIe?".gif":".png")+') no-repeat;">')+x+"</a>"+(r?'<div class="bsPopupAwd">'+m.promoteShort+"</div>":"")+"</div>",f++);v=116+26*Math.ceil(f/c)-(c!=2?56:0);w=c*121+28;for(d=0;d<c;d++)g+=l[d]+"</div>";g+="<div class='bsClear'></div>";for(p in a.pnMap)a.pnMap.hasOwnProperty(p)&&o++;l='<div style="height:20px;line-height:20px;padding:0 8px;border-top:1px solid #e8e8e8;color:'+
t+";background:"+z+';"><div class="buzzButton" style="float:left;">'+(c==1?m.morePlatsShort:m.morePlats+' <font style="font-weight:normal;">('+o+")</font>")+"</div>";e.logo&&(l+=a.elems.powerBy);l+="</div>";k=k+"<div style='padding-left:8px;background:#fff;*height:"+(26*Math.ceil(f/c)+6+(c==2?56:0))+"px;'>"+g+"</div>"+l;i.innerHTML='<div id="bsPanel" style="display:none;">'+k+"</div>";h.body.appendChild(q);return q};a.hover=function(c){a.timerId!=0&&clearTimeout(a.timerId);var i=c||b.getElem(h,"a",
"buzzButton")[0],k=b.getOffset(i).y,g=b.getOffset(i).x,f=i.offsetHeight,d=h.getElementById("bsPanel"),j=b.getWH().w;b.getWH();if(e.poph!="right"&&(g+w>j||e.poph=="left"))g-=w-i.offsetWidth;d.style.left=g+"px";d.style.top=e.pop==2||e.pop!=1&&k-{t:p(n.scrollTop,o.scrollTop),l:p(n.scrollLeft,o.scrollLeft)}.t+v+f>b.getWH().h?k-v-2+"px":k+f+2+"px";d.style.display="";a.prepare(c.index);a.click()};a.ready=function(){F();var c=h.getElementById("bsPanel");a.timerId=0;var i=function(b){e.pop==-2?b.onclick=
function(){a.hover(this)}:(b.onmouseover=function(){a.hover(this)},b.onmouseout=function(){a.timerId=setTimeout(function(){c.style.display="none"},20)})};a.style!=5&&b.getElem(h,"a","bshareDiv",function(a,c){b.getElem(a,"div","buzzButton",function(a){a.index=c;i(a)})});b.getElem(h,"div","bshare-custom",function(a,c){b.getElem(a,"a","bshare-more",function(a){a.index=c;i(a)})});b.getElem(c,"div","buzzButton",function(b,c){b.onclick=function(b){a.more(b,c);return!1}});c.onmouseout=function(){a.timerId=
setTimeout(function(){c.style.display="none"},0)};c.onmouseover=function(){a.timerId!=0&&clearTimeout(a.timerId)}};var B=0,C=function(){if(D.bShareLoad||B>=30){if(!e.bps||e.bps.length==0)e.bps=a.defaultBps;a.ready()}else++B,setTimeout(C,100)};C()})();
